[@TOC]

# 路径规划

## 全局路径规划

- 全局路径规划是在已知的环境中，给机器人规划一条路径
- 路径规划的精度取决于环境获取的准确度
- 全局路径规划可以找到最优解，但是需要预先知道环境的准确信息，当环境发生变化（如出现未知障碍物），该方法就无能为力了
- 它是一种事前规划，对机器人系统的实时计算能力要求不高
- 它的规划结果是全局的、较优的，但对环境模型的错误及噪声鲁棒性差

## 局部路径规划

- 局部路径规划的环境信息完全未知或有部分可知
- 侧重于考虑机器人当前的局部环境信息，让机器人具有良好的避障能力，通过传感器对机器人的工作环境进行探测，以获取障碍物的位置和几何性质等信息
- 这种规划需要搜集环境数据，并且对该环境模型的动态更新能够随时进行校正
- 局部规划方法对环境的建模与搜索融为一体，要求机器人系统具有高速的信息处理能力和计算能力
- 对环境误差和噪声有较高的鲁棒性，能对规划结果进行实时反馈和校正
- 但由于缺乏全局环境信息，所以规划结果有可能不是最优的，甚至找不到正确路径或完整路径

## 两者的融合

全局路径规划和局部路径规划并没有本质上的区别，很多适用于全局路径规划的方法经过改进也可以用于局部路径规划，而适用于局部路径规划的方法经过改进后也可以用于全局路径规划。两者协同工作，机器人可更好地规划从起始点到终点的路径。

## 多机器人路径规划

### 解耦化

#### 说明

- 解耦化的方法是指将搬运机器人看作多个独立的个体，各自规划行驶路径。

- 采用解耦化的多搬运机器人路径规划方法计算复杂性低、鲁棒性好
- 缺陷在于当仓库中搬运机器人数量较大的情况下，极易产生冲突和拥堵，造成复杂的路径再次规划问题

#### 可参考的优化项

- Khorshid等针对解耦算法无法保证最优解及完备解，提出了一种树搜索的方法
- Chang使用Dijkstra算法为双向路径中的多搬运机器人设计了无冲突的最短行驶路径
- Ma等提出带有惩罚项的改进粒子群优化算法解决了双层仓库多搬运机器人路径规划问题
- Umar等提出了一种混合遗传算法，对柔性生产系统环境下的多机器人系统进行路径规划，并采用设立优先级的方式对柔性生产系统环境下的任务和机器人进行集成排序，解决路径冲突
- Desrochers等人提出了应用时间窗解决多台机器人的碰撞问题
- Wang提出了一种概率迭代路径协调的局部搜索算法(PIPC)，为最晚完工的机器人找到最优解
- Alejandro考虑到路径安全性、路径长度和路径平稳性，提出了一种基于混合蛙跳算法的多目标解耦算法

#### 注释

- 鲁棒性：Robus是健壮和强壮的意思，即在异常和危险情况下系统生存的能力。

### 耦合

#### 说明

- 基于耦合的多搬运机器人路径规划是指在运行过程中考虑到机器人会互相影响，从而考虑将所有机器人看作一个整体，为其规划路径
- 基于耦合的多搬运机器人路径规划方法能够实现机器人之间的紧密和最优协调，规划的路径通常是最优（次优）及完备的解

#### 可参考的优化项

- Ma重点研究了基于集群的多机器人任务分配及路径规划、负载可交换的多机器人路径规划、及路径执行不完美的问题
- Miao提出了改进的模拟退火算法，用于机器人在静态和动态障碍物环境下的路径规划
- Standley和Korf提出了一种动态分组的多机器人无冲突路径规划方法，以降低求解的复杂度
- Sharon基于冲突提出了新的一种两级路径寻优算法，在高层对有冲突的机器人进行搜索，在底层对每个机器人进行路径快速寻优，其求解速度较A*算法高了一个数量级

## 结论

### 路径规划方式选择

个人选择全局路径规划为主，局部路径规划为辅的方式。在确定机器人所在位置以及目标位置后，选择机器人行走距离最短的路径作为主路径。

### 最短路径算法选择

- 如果是根据段行走，根据迪杰斯特拉算法
- 如果是自由空间，那么选择Dstar Lite算法

### 选择重新规划路径的时机

避障转移路线等待时间 n 作为可配置的参数，可根据不同场景（段、区域）设置不同的值

在区域的避障转移路线时间改为5 min，那么代表在该区域遇到障碍物后，等待5分钟，还不能行走，那么往其他的方向重新规划路线。

- 人为触发重新规划路径（可在车身设置按钮，也可以在统一调度的系统下发命令，也可以在外围的设备下发命令）
- 前方设备出现故障
- 前方障碍物非自动化设备且超过n分钟不挪走
- 前方障碍物是自动化设备，向自动化设备（或者是统一调度的系统）询问设备离开的时间，如果时间超过n分钟，那么重新规划路径







